{"version":3,"sources":["lib.js","Images/theme_1.png","Images/theme_2.png","Images/theme_3.png","Images/theme_4.png","Images/theme_5.png","Images/theme_6.png","Images/theme_7.png","Images/theme_8.png","Components/Header.js","hooks/useAuthHeader.js","hooks/useGetData.js","Components/Recommend.js","Pages/Home/Home.js","hooks/useMode.js","hooks/useNearInfo.js","Components/NearInfo.js","Pages/Detail/Detail.js","hooks/useDetail.js","Components/Error.js","Components/Searchdata.js","Components/Searchnear.js","Pages/Search/Search.js","App.js","Model/action.js","reportWebVitals.js","Model/dataSlice.js","Model/store.js","index.js"],"names":["cityLib","Taiwan","name","icon","region","Taipei","NewTaipei","Keelung","Taoyuan","Hsinchu","HsinchuCounty","YilanCounty","MiaoliCounty","Taichung","ChanghuaCounty","NantouCounty","YunlinCounty","Chiayi","ChiayiCounty","Tainan","Kaohsiung","PingtungCounty","PenghuCounty","HualienCounty","TaitungCounty","KinmenCounty","LienchiangCounty","modeLib","ScenicSpot","Restaurant","Hotel","Activity","sloganLib","Header","handleSelectCity","city","navigate","useNavigate","useState","mode","setMode","keyword","setKeyword","openCity","setOpenCity","chMode","setChMode","cityFilter","Object","keys","filter","item","cityName","goSearch","nowMode","nowCity","nowKeyword","console","log","split","join","useEffect","className","to","onClick","prev","style","width","textAlign","type","id","defaultChecked","map","htmlFor","flexWrap","placeholder","onChange","e","target","value","src","img1","alt","img2","img3","img4","img5","img6","img7","img8","useAuthHeader","GMTString","Date","toGMTString","ShaObj","jsSHA","setHMACKey","update","Authorization","getHMAC","useGetData","page","data","setData","perPage","url","forEach","k","replace","fetchData","fetch","headers","res","json","Recommend","recMode","amount","result","setResult","memoizedDataFilter","useCallback","arr","count","i","length","idx","Math","floor","random","push","splice","dataFilter","memoizedHandleTime","StartTime","EndTime","Picture","PictureUrl1","PictureDescription1","TicketInfo","OpenTime","Address","Location","Class","Class1","Class2","Class3","Home","slogan","setSlogan","ranCity","setRanCity","genSlogan","useMemo","genCity","entries","n","useMode","en","tag","useNearInfo","lat","lon","Nearinfo","Detail","handleMode","useDetail","useParams","updateMode","window","print","Phone","href","WebsiteUrl","rel","Organizer","Cycle","DescriptionDetail","Description","TravelInfo","ParkingInfo","Position","PositionLat","PositionLon","ErrorTitle","styled","h2","Error","Searchdata","useSearchParams","searchParams","get","setPage","Searchnear","Search","Container","div","Head","header","App","setCity","elementTop","useRef","useSelector","state","testData","dispatch","useDispatch","createBrowserHistory","basename","val","root","document","documentElement","setProperty","getState","payload","axios","scrollTo","top","behavior","ref","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","getCartItems","createAsyncThunk","thunkAPI","rejectWithValue","dataSlice","createSlice","initialState","items","travelData","total","isLoading","reducers","clearCart","removeItem","action","itemId","increase","cartItem","find","decrease","calculateTotals","price","extraReducers","pending","fulfilled","rejected","actions","store","configureStore","reducer","dataReducer","ReactDOM","createRoot","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.789e0f80.chunk.js","sourcesContent":["const cityLib = {\n  Taiwan: { name: \"臺灣\", icon: \"main-island\", region: \"All\" },\n  Taipei: { name: \"台北\", icon: \"postbox2\", region: \"North\" },\n  NewTaipei: { name: \"新北\", icon: \"queens-head\", region: \"North\" },\n  Keelung: { name: \"基隆\", icon: \"ershawan\", region: \"North\" },\n  Taoyuan: { name: \"桃園\", icon: \"slipper\", region: \"North\" },\n  Hsinchu: { name: \"竹市\", icon: \"green-man\", region: \"North\" },\n  HsinchuCounty: { name: \"竹縣\", icon: \"red-man\", region: \"North\" },\n  YilanCounty: { name: \"宜蘭\", icon: \"ly-mus\", region: \"North\" },\n  MiaoliCounty: { name: \"苗栗\", icon: \"longteng-brg\", region: \"Central\" },\n  Taichung: { name: \"台中\", icon: \"taichung-park\", region: \"Central\" },\n  ChanghuaCounty: { name: \"彰化\", icon: \"bagua\", region: \"Central\" },\n  NantouCounty: { name: \"南投\", icon: \"black-bear\", region: \"Central\" },\n  YunlinCounty: { name: \"雲林\", icon: \"fortune\", region: \"Central\" },\n  Chiayi: { name: \"嘉市\", icon: \"taiwanese-bag\", region: \"South\" },\n  ChiayiCounty: { name: \"嘉縣\", icon: \"alishan-rw\", region: \"South\" },\n  Tainan: { name: \"台南\", icon: \"provintia\", region: \"South\" },\n  Kaohsiung: { name: \"高雄\", icon: \"dt-pagoda\", region: \"South\" },\n  PingtungCounty: { name: \"屏東\", icon: \"vase-rock\", region: \"South\" },\n  PenghuCounty: { name: \"澎湖\", icon: \"penghu-islands\", region: \"South\" },\n  HualienCounty: { name: \"花蓮\", icon: \"balloon\", region: \"East\" },\n  TaitungCounty: { name: \"臺東\", icon: \"flying-fish\", region: \"East\" },\n  KinmenCounty: { name: \"金門\", icon: \"kinmen-island\", region: \"Outer\" },\n  LienchiangCounty: { name: \"連江\", icon: \"jug\", region: \"Outer\" },\n};\n\nconst modeLib = {\n  ScenicSpot: \"景點\",\n  Restaurant: \"餐飲\",\n  Hotel: \"旅宿\",\n  Activity: \"活動\",\n};\n\nconst sloganLib = [\n  [\"探索。\", \"福爾摩沙\"],\n  [\"尋找。\", \"山林秘境\"],\n  [\"體驗。\", \"節慶活動\"],\n  [\"發現。\", \"異國美食\"],\n  [\"徜徉。\", \"蔚藍大海\"],\n  [\"尋覓。\", \"文化古蹟\"],\n];\n\nexport { cityLib, modeLib, sloganLib };\n","export default __webpack_public_path__ + \"static/media/theme_1.31c32ad8.png\";","export default __webpack_public_path__ + \"static/media/theme_2.d092da27.png\";","export default __webpack_public_path__ + \"static/media/theme_3.0d20fec4.png\";","export default __webpack_public_path__ + \"static/media/theme_4.054870e9.png\";","export default __webpack_public_path__ + \"static/media/theme_5.067576a9.png\";","export default __webpack_public_path__ + \"static/media/theme_6.b723bd54.png\";","export default __webpack_public_path__ + \"static/media/theme_7.77de2774.png\";","export default __webpack_public_path__ + \"static/media/theme_8.0b2e844a.png\";","import { useState, useEffect } from 'react';\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { cityLib, modeLib } from \"./../lib.js\";\nimport img1 from './../Images/theme_1.png';\nimport img2 from './../Images/theme_2.png';\nimport img3 from './../Images/theme_3.png';\nimport img4 from './../Images/theme_4.png';\nimport img5 from './../Images/theme_5.png';\nimport img6 from './../Images/theme_6.png';\nimport img7 from './../Images/theme_7.png';\nimport img8 from './../Images/theme_8.png';\n\n\nexport default function Header({ handleSelectCity, city }) {\n  let navigate = useNavigate();\n  const [mode, setMode] = useState('ScenicSpot');\n  const [keyword, setKeyword] = useState('');\n  const [openCity, setOpenCity] = useState(false);\n  const [chMode, setChMode] = useState('臺灣');\n\n  const cityFilter = (region) => {\n    return Object.keys(cityLib).filter((item) => cityLib[item].region === region)\n  };\n  const cityName = (city) => cityLib[city].name;\n  const goSearch = (nowMode, nowCity, nowKeyword) => {\n    console.log(mode, city, keyword);\n    navigate(`/search?mode=${nowMode}&city=${nowCity}&keyword=${nowKeyword.split(\" \").join()}`);\n  }\n  \n  useEffect(() => {\n    setChMode(() => {\n      return modeLib[mode];\n    })\n  }, [mode])\n  \n  return (\n    <div className=\"header\">\n      <div className=\"header-main d-flex align-items-center justify-content-between\">\n        <Link to=\"/\" className=\"header-logo\"></Link>\n        <button className=\"header-btn\">\n          <i className=\"fas fa-chevron-left\"></i>\n        </button>\n      </div>\n      <div className=\"header-select d-flex\" onClick={() => setOpenCity(prev => !prev)}>\n        <span className=\"select-input\">{cityName(city)} | {chMode}</span>\n        <button className={`select-btn ${openCity ? '' : 'down'}`}>\n          <i className=\"fas fa-chevron-circle-down\"></i>\n        </button>\n      </div>\n      <div \n        className={`\n          drowdown df-around bdrs-xl\n          ${ openCity ? 'shadow': '' }\n          ${ openCity? 'show' : '' }\n        `}\n      >\n      <h3 className=\"dropdown-title\">選擇區域</h3>\n      <span className=\"tabs-ctl-item\" style={{width: '15%', textAlign: 'start'}}>臺灣</span>\n      <div className=\"tabs\">\n        <input type=\"radio\" id=\"tabs1\" className=\"tabs-radio\" name=\"tabs\" defaultChecked='true' />\n        <input type=\"radio\" id=\"tabs2\" className=\"tabs-radio\" name=\"tabs\" />\n        <input type=\"radio\" id=\"tabs3\" className=\"tabs-radio\" name=\"tabs\" />\n        <input type=\"radio\" id=\"tabs4\" className=\"tabs-radio\" name=\"tabs\" />\n        <ul className=\"tabs-cnt\">\n          <li className=\"tabs-cnt-item d-flex justify-content-around\">\n            {cityFilter('North').map(item => (\n              <span \n                key={cityName(item)}\n                onClick={() => handleSelectCity(item)}\n                className={`drowdown-item bdrs-sm ${item === city ? 'active' : ''}`}\n              >\n                {cityName(item)}\n              </span>\n            ))}\n          </li>\n          <li className=\"tabs-cnt-item d-flex justify-content-around\">\n            {cityFilter('Central').map(item => (\n              <span \n                key={cityName(item)}\n                onClick={() => handleSelectCity(item)}\n                className={`drowdown-item bdrs-sm ${item === city ? 'active' : ''}`}\n              >\n                {cityName(item)}\n              </span>\n            ))}\n          </li>\n          <li className=\"tabs-cnt-item d-flex justify-content-around\">\n            {cityFilter('South').map(item => (\n              <span \n                key={cityName(item)}\n                onClick={() => handleSelectCity(item)}\n                className={`drowdown-item bdrs-sm ${item === city ? 'active' : ''}`}\n              >\n                {cityName(item)}\n              </span>\n            ))}\n          </li>\n          <li className=\"tabs-cnt-item d-flex justify-content-around\">\n            {cityFilter('East').map(item => (\n              <span \n                key={cityName(item)}\n                onClick={() => handleSelectCity(item)}\n                className={`drowdown-item bdrs-sm ${item === city ? 'active' : ''}`}\n              >\n                {cityName(item)}\n              </span>\n            ))}\n          </li>\n          <li className=\"tabs-cnt-item d-flex justify-content-around\">\n            {cityFilter('Outer').map(item => (\n              <span \n                key={cityName(item)}\n                onClick={() => handleSelectCity(item)}\n                className={`drowdown-item bdrs-sm ${item === city ? 'active' : ''}`}\n              >\n                {cityName(item)}\n              </span>\n            ))}\n          </li>\n        </ul>\n        <div className=\"tabs-ctl d-flex justify-content-around\">\n          <label htmlFor=\"tabs1\" className=\"tabs-ctl-item\">北部</label>\n          <label htmlFor=\"tabs2\" className=\"tabs-ctl-item\">中部</label>\n          <label htmlFor=\"tabs3\" className=\"tabs-ctl-item\">南部</label>\n          <label htmlFor=\"tabs4\" className=\"tabs-ctl-item\">東部&離島</label>\n        </div>\n      </div>\n      <hr className=\"dropdown-hr\" />\n      <h3 className=\"dropdown-title\">選擇類型</h3>\n      <div className=\"dropdown-mode d-flex justify-content-around align-items-center\" style={{flexWrap: 'wrap'}}>\n        <span\n          className={`\n            drowdown-item bdrs-sm\n            ${mode === 'ScenicSpot' ? 'active' : ''}\n          `}\n          onClick={() => setMode('ScenicSpot')}\n          >景點</span>\n        <span\n          className={`\n            drowdown-item bdrs-sm\n            ${mode === 'Restaurant' ? 'active' : ''}\n          `}\n          onClick={() => setMode('Restaurant')}\n        >餐飲</span>\n        <span\n          className={`\n            drowdown-item bdrs-sm\n            ${mode === 'Hotel' ? 'active' : ''}\n          `}\n          onClick={() => setMode('Hotel')}\n        >旅宿</span>\n        <span\n          className={`\n            drowdown-item bdrs-sm\n            ${mode === 'Activity' ? 'active' : ''}\n          `}\n          onClick={() => setMode('Activity')}\n        >活動</span>\n      </div>\n      <button className=\"dropdown-btn fz-sm bdrs-sm\" onClick={() => setOpenCity(prev => !prev)}>\n        OK!\n      </button>\n    </div>\n    <div className=\"textbox d-flex\">\n      <input \n        type=\"text\"\n        placeholder=\"多筆資料用空格格開(選填)\"\n        className=\"textbox-input\"\n        onChange={(e) => setKeyword(e.target.value)} />\n      <button  className=\"textbox-btn\">\n        <i className=\"fas fa-search\"></i>\n      </button>\n    </div> \n    <button className=\"searchBtn\" onClick={() => goSearch(mode, city, keyword)}>\n      <i className=\"fas fa-search\"></i>\n      開始搜尋\n      </button>\n    <h3 className=\"title\">精選主題</h3>\n    <div className=\"theme d-flex justify-content-around align-items-center\">\n      <div\n        className=\"theme-item bdrs-sm\"\n        onClick={() => goSearch('ScenicSpot', 'Taiwan', '觀光,遊憩')}\n      >\n        <img\n          src={img1}\n          alt=\"觀光遊憩\"\n          className=\"theme-img\"\n        />\n        <h4 className=\"theme-text df-center fz-sm\">觀光遊憩</h4>\n      </div>\n      <div\n        className=\"theme-item bdrs-sm\"\n        onClick={() => goSearch('ScenicSpot', 'Taiwan', '自然,風景')}\n      >\n        <img\n          src={img2}\n          alt=\"自然風景\"\n          className=\"theme-img\"\n        />\n        <h4 className=\"theme-text df-center fz-sm\">自然風景</h4>\n      </div>\n      <div\n        className=\"theme-item bdrs-sm\"\n        onClick={() => goSearch('Restaurant', 'Taiwan', '地方特產')}\n      >\n        <img\n          src={img3}\n          alt=\"地方特產\"\n          className=\"theme-img\"\n        />\n        <h4 className=\"theme-text df-center fz-sm\">地方特產</h4>\n      </div>\n      <div\n        className=\"theme-item bdrs-sm\"\n        onClick={() => goSearch('Restaurant', 'Taiwan', '異國料理')}\n      >\n        <img\n          src={img4}\n          alt=\"異國料理\"\n          className=\"theme-img\"\n        />\n        <h4 className=\"theme-text df-center fz-sm\">異國料理</h4>\n      </div>\n      <div\n        className=\"theme-item bdrs-sm\"\n        onClick={() => goSearch('Hotel', 'Taiwan', '度假,民宿')}\n      >\n        <img\n          src={img5}\n          alt=\"度假民宿\"\n          className=\"theme-img\"\n        />\n        <h4 className=\"theme-text df-center fz-sm\">度假民宿</h4>\n      </div>\n      <div\n        className=\"theme-item bdrs-sm\"\n        onClick={() => goSearch('Hotel', 'Taiwan', '國際,旅館')}\n      >\n        <img\n          src={img6}\n          alt=\"國際旅館\"\n          className=\"theme-img\"\n        />\n        <h4 className=\"theme-text df-center fz-sm\">國際旅館</h4>\n      </div>\n      <div\n        className=\"theme-item bdrs-sm\"\n        onClick={() => goSearch('Activity', 'Taiwan', '節慶活動')}\n      >\n        <img\n          src={img7}\n          alt=\"節慶活動\"\n          className=\"theme-img\"\n        />\n        <h4 className=\"theme-text df-center fz-sm\">節慶活動</h4>\n      </div>\n      <div\n        className=\"theme-item bdrs-sm\"\n        onClick={() => goSearch('Activity', 'Taiwan', '藝文,體驗')}\n      >\n        <img\n          src={img8}\n          alt=\"藝文體驗\"\n          className=\"theme-img\"\n        />\n        <h4 className=\"theme-text df-center fz-sm\">藝文體驗</h4>\n      </div>\n    </div>\n    </div>\n  );\n}","// API 驗證\nimport jsSHA from \"jssha/dist/sha1\";\n\nexport const useAuthHeader = () => {\n  const AppID = '62fb64915752471fb3027277da00f6cf'\n  const AppKey = 'tHKmnQUiUJOJZL3KesbRFriOLi4'\n  const GMTString = new Date().toGMTString()\n  const ShaObj = new jsSHA('SHA-1', 'TEXT')\n  ShaObj.setHMACKey(AppKey, 'TEXT')\n  ShaObj.update('x-date: ' + GMTString)\n  const HMAC = ShaObj.getHMAC('B64')\n  /* eslint-disable no-useless-escape */\n  const Authorization = 'hmac username=\\\"' + AppID + '\\\", algorithm=\\\"hmac-sha1\\\", headers=\\\"x-date\\\", signature=\\\"' + HMAC + '\\\"';\n  let Auth = { Authorization: Authorization, 'X-Date': GMTString };\n  return { Authorization, GMTString }\n};\n","import { useState, useEffect } from 'react';\nimport { useAuthHeader } from './useAuthHeader';\n\nexport const useGetData = (mode, city, page = 1, keyword = null) => {\n  const [data, setData] = useState(null);\n  const [perPage, setPerPage] = useState(6);\n  const { Authorization, GMTString } = useAuthHeader();\n    \n  useEffect(() => {\n    let url = `https://ptx.transportdata.tw/MOTC/v2/Tourism/${mode}/${city === 'Taiwan'? '' : city}?$top=${perPage}&$skip=${(page - 1) * perPage}&$format=JSON`;\n    url += `&$select=${mode}ID,${mode}Name,Address,Picture`;\n    if (mode === \"ScenicSpot\") url += \",Class1,Class2,Class3,OpenTime,TicketInfo\";\n    if (mode === \"Restaurant\") url += \",Class,OpenTime\";\n    if (mode === \"Hotel\") url += \",Class\";\n    if (mode === \"Activity\") url += \",Class1,Class2\";\n    url += `&$filter=Picture/PictureUrl1 ne null`;\n    if(keyword) {\n      let filter = \"\";\n      keyword.split(',').forEach((k) => {\n        filter += ` or contains(${mode}Name, '${k}') `;\n        if (mode === \"Restaurant\" || mode === \"Hotel\")\n          filter += ` or contains(Class,'${k}')`;\n        if (mode === \"ScenicSpot\" || mode === \"Activity\")\n          filter += ` or contains(Class1,'${k}') or contains(Class2,'${k}')`;\n        if (mode === \"ScenicSpot\") filter += ` or contains(Class3,'${k}')`;\n      })\n      filter = filter.replace(\" or \", \"\");\n      url += ` and (${filter})`;\n    }\n\n    const fetchData = async() => {\n      try {\n        const res = await fetch(url, { headers: { Authorization, 'X-Date': GMTString } });\n        const data = await res.json();\n        setData(data);\n      } catch(err) {\n        console.log(err)\n      }\n    }\n    fetchData();\n  }, [mode, city, page, keyword, perPage, Authorization, GMTString])\n  \n  return { data }\n}","import { useState, useEffect, useCallback } from 'react';\nimport { useGetData } from './../hooks/useGetData';\nimport { Link } from \"react-router-dom\";\n\nconst dataFilter = (arr, count = 4) => {\n  const result = [];\n  for(let i = 0; i < count; i++) {\n    if(!arr.length ) {\n      return\n    }\n    const idx = Math.floor(Math.random() * arr.length);\n    result.push(arr[idx]);\n    arr.splice(idx, 1);\n  }\n  return result;\n}\n\nconst handleTime = (arr) => {\n  arr.forEach(item => {\n    if(item.StartTime) {\n      item.StartTime = item.StartTime.split('T')[0];\n    }\n    if(item.EndTime) {\n      item.EndTime = item.EndTime.split('T')[0];\n    }\n    if(item.StartTime === item.EndTime) {\n      item.Date = item.EndTime;\n    }\n  });\n  return arr;\n}\n\nexport default function Recommend({ recMode, amount}) {\n  const [result, setResult] = useState(null);\n  const { data } = useGetData(recMode, 'Taiwan');\n  \n  const memoizedDataFilter = useCallback(() => {\n    return dataFilter(data, amount);\n  }, [data, amount]);\n  const memoizedHandleTime = useCallback(() => {\n    return handleTime(data);\n  }, [data]);\n\n  useEffect(() => {\n    if(data) {\n      setResult(memoizedDataFilter());\n      setResult(memoizedHandleTime());\n    }\n  }, [data, memoizedDataFilter, memoizedHandleTime]);\n\n  return (\n    <div className={`card-${recMode}`}>\n      {result && result.map((item, i) => {\n        return (\n          <Link key={item[`${recMode}ID`]} to={`/detail/${item[recMode+'ID']}`} className=\"card\">\n            \n              <div className=\"card-box\">\n                <img className=\"card-img\" \n                  src={item.Picture.PictureUrl1}\n                  alt={item.Picture.PictureDescription1 || item[`${recMode}Name`]}></img>\n              </div>\n              <div className=\"card-content\">\n                <h2 className=\"card-title\" >{item[recMode + 'Name']}</h2>\n                {item.Date && \n                  <p className=\"card-text mb-1\" >\n                    <i className=\"ico-calendar\"></i>\n                    <span>{item.Date}</span>\n                  </p>\n                }\n                {item.TicketInfo && \n                  <p className=\"card-text mb-1\" >\n                    <i className=\"ico-ticket\"></i>\n                    <span>{item.TicketInfo}</span>\n                  </p>\n                }\n                {item.StartTime && \n                  <p className=\"card-text mb-1\" >\n                    <i className=\"ico-calendar\"></i>\n                    <span>{item.StartTime} ~</span> \n                    <span>{item.EndTime}</span>\n                  </p>\n                }\n                {item.OpenTime && \n                  <p className=\"card-text mb-1\" >\n                    <i className=\"ico-clock-time\"></i>\n                    <span>{item.OpenTime}</span>\n                  </p>\n                }\n                {item.Address && \n                  <p className=\"card-text mb-1\" >\n                    <i className=\"ico-location-pin\"></i>\n                    { item.Location && \n                      <span>{item.Location}</span>\n                    }\n                    <span>{item.Address}</span>\n                  </p>\n                }\n                <p className=\"card-text mb-1\">\n                  <i className=\"ico-tags\"></i>\n                  {item.Class && <span className=\"card-tag\">{item.Class}</span>}\n                  {item.Class1 && <span className=\"card-tag\">{item.Class1}</span>}\n                  {item.Class2 && <span className=\"card-tag\">{item.Class2}</span>}\n                  {item.Class3 && <span className=\"card-tag\">{item.Class3}</span>}\n                </p>\n                \n              </div>\n            \n          </Link>\n        )\n      })}\n    </div>\n  )\n}","import { useState, useEffect, useMemo } from 'react';\nimport { sloganLib, cityLib } from '../../lib';\nimport { Link } from \"react-router-dom\";\nimport Recommend from './../../Components/Recommend';\n\nimport './Home.scss';\n\nconst dataFilter = (arr, count = 4) => {\n  const result = [];\n  for(let i = 0; i < count; i++) {\n    if(!arr.length ) {\n      return\n    }\n    const idx = Math.floor(Math.random() * arr.length);\n    result.push(arr[idx]);\n    arr.splice(idx, 1);\n  }\n  return result;\n}\n\nexport default function Home() {\n  const [slogan, setSlogan] = useState([]);\n  const [ranCity, setRanCity] = useState([]);\n  const genSlogan = useMemo(() => dataFilter(sloganLib, 1), []);\n  const genCity = useMemo(() => dataFilter(Object.entries(cityLib), 7), []);\n\n  const getImg = (n) => {\n    return `./../../Images/city_${n}.jpg`;\n  }\n\n  useEffect(() => {\n    setSlogan(genSlogan[0]);\n  }, [genSlogan]);\n\n  useEffect(() => {\n    setRanCity(genCity);\n  }, [genCity]);\n\n  \n  return (\n    <div className=\"home\">\n    <div className=\"banner shadow\">\n      <h1 className=\"banner-text\">\n        <span>{slogan[0]}</span><br />\n        <span>{slogan[1]}</span>\n      </h1>\n    </div>\n    <h2 className=\"title\">熱門景點</h2>\n    <div className=\"hot\">\n      {ranCity.map((item, i) => {\n        return (<Link to={`/search?mode=ScenicSpot&city=${item[0]}`} key={i} className=\"hot-city\">\n          <img src={getImg(i+1)} alt={item[0]} className=\"hot-city-img\"/>\n          <div className=\"hot-city-content\">\n            <span>{item[1].name}</span>\n          </div>\n        </Link>)\n      })}\n    </div>\n      \n    <h2 className=\"title\">打卡美食</h2>\n    <Recommend recMode={\"Restaurant\"} amount={3} />\n    <h2 className=\"title\">住宿推薦</h2>\n    <Recommend recMode={\"Hotel\"} amount={3} />\n    <h2 className=\"title\">觀光活動</h2>\n    <Recommend recMode={\"Activity\"} amount={3} />\n  </div>\n  )\n}","import { useState } from 'react';\n\nexport const useMode = (id, en) => {\n  const tag = id.split('_')[0];\n  let mode = '';\n  if(tag === 'C1') {\n    mode = en ? 'ScenicSpot' : '景點';\n  }\n  if(tag === 'C2') {\n    mode = en ? 'Activity' : '活動';\n  }\n  if(tag === 'C3') {\n    mode = en ? 'Restaurant' : '餐廳';\n  }\n  if(tag === 'C4') {\n    mode = en ? 'Hotel' : '旅宿';\n  }\n  return { mode }\n}","import { useState, useEffect } from 'react';\nimport { useAuthHeader } from './useAuthHeader';\n\nexport const useNearInfo = (mode, lat, lon, page = 1) => {\n  const [data, setData] = useState(null);\n  const [perPage, setPerPage] = useState(6);\n  const { Authorization, GMTString } = useAuthHeader();\n\n  useEffect(() => {\n\n    let url = `https://ptx.transportdata.tw/MOTC/v2/Tourism/${mode}?`;\n    url += `$top=${perPage}&$skip=${(page - 1) * perPage}&$format=JSON`;\n    url += `&$select=${mode}ID,${mode}Name,Address,Picture`;\n    if (mode === \"ScenicSpot\") url += \",Class1,Class2,Class3,OpenTime,TicketInfo\";\n    if (mode === \"Restaurant\") url += \",Class,OpenTime\";\n    if (mode === \"Hotel\") url += \",Class\";\n    if (mode === \"Activity\") url += \",Class1,Class2\";\n    url += `&$spatialFilter=nearby(${lat},${lon},50000)`;\n\n    const fetchData = async() => {\n      try {\n        const res = await fetch(url, { headers: { Authorization, 'X-Date': GMTString } });\n        const data = await res.json();\n        setData(data);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n\n    fetchData();\n\n  }, [mode, lat, lon, page, perPage, Authorization, GMTString])\n  \n  return { data }\n}","import { useState, useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useNearInfo } from './../hooks/useNearInfo';\n\nconst dataFilter = (arr, count = 4) => {\n  const result = [];\n  for(let i = 0; i < count; i++) {\n    if(!arr.length ) {\n      return\n    }\n    const idx = Math.floor(Math.random() * arr.length);\n    result.push(arr[idx]);\n    arr.splice(idx, 1);\n  }\n  return result;\n}\n\nconst handleTime = (arr) => {\n  arr.forEach(item => {\n    if(item.StartTime) {\n      item.StartTime = item.StartTime.split('T')[0];\n    }\n    if(item.EndTime) {\n      item.EndTime = item.EndTime.split('T')[0];\n    }\n    if(item.StartTime === item.EndTime) {\n      item.Date = item.EndTime;\n    }\n  });\n  return arr;\n}\n\nexport default function Nearinfo({ recMode, amount, lat, lon}) {\n  const [result, setResult] = useState(null);\n  const { data } = useNearInfo(recMode, lat, lon);\n\n  const memoizedDataFilter = useCallback(() => {\n    return dataFilter(data, amount);\n  }, [data, amount]);\n  const memoizedHandleTime = useCallback(() => {\n    return handleTime(data);\n  }, [data]);\n\n  useEffect(() => {\n    if(data) {\n      setResult(memoizedDataFilter());\n      setResult(memoizedHandleTime());\n    }\n  }, [data, memoizedDataFilter, memoizedHandleTime]);\n\n  return (\n      <div className={`card-${recMode}`}>\n        {result && result.map((item, i) => {\n          return (\n            \n            <Link className=\"card\" key={item[`${recMode}ID`]} to={`/detail/${item[recMode+'ID']}`}>\n              <div className=\"card-box\">\n                <img className=\"card-img\" \n                  src={item.Picture.PictureUrl1}\n                  alt={item.Picture.PictureDescription1 || item[`${recMode}Name`]}></img>\n              </div>\n              <div className=\"card-content\">\n                <h2 className=\"card-title\" >{item[recMode + 'Name']}</h2>\n                {item.Date && \n                  <p className=\"card-text mb-1\" >\n                    <i className=\"ico-calendar\"></i>\n                    <span>{item.Date}</span>\n                  </p>\n                }\n                {item.TicketInfo && \n                  <p className=\"card-text mb-1\" >\n                    <i className=\"ico-ticket\"></i>\n                    <span>{item.TicketInfo}</span>\n                  </p>\n                }\n                {item.StartTime && \n                  <p className=\"card-text mb-1\" >\n                    <i className=\"ico-calendar\"></i>\n                    <span>{item.StartTime} ~</span> \n                    <span>{item.EndTime}</span>\n                  </p>\n                }\n                {item.OpenTime && \n                  <p className=\"card-text mb-1\" >\n                    <i className=\"ico-clock-time\"></i>\n                    <span>{item.OpenTime}</span>\n                  </p>\n                }\n                {item.Address && \n                  <p className=\"card-text mb-1\" >\n                    <i className=\"ico-location-pin\"></i>\n                    { item.Location && \n                      <span>{item.Location}</span>\n                    }\n                    <span>{item.Address}</span>\n                  </p>\n                }\n                <p className=\"card-text mb-1\">\n                  <i className=\"ico-tags\"></i>\n                  {item.Class && <span className=\"card-tag\">{item.Class}</span>}\n                  {item.Class1 && <span className=\"card-tag\">{item.Class1}</span>}\n                  {item.Class2 && <span className=\"card-tag\">{item.Class2}</span>}\n                  {item.Class3 && <span className=\"card-tag\">{item.Class3}</span>}\n                </p>\n                \n              </div>\n            </Link>\n          )\n        })}\n      </div>\n  )\n}","import { useState, useEffect, useCallback } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { useDetail } from '../../hooks/useDetail';\nimport Nearinfo from '../../Components/NearInfo.js';\nimport './Detail.scss'\n\n// C3_315081100H_000020,\nexport default function Detail({ mode, handleMode }) {\n  const navigate = useNavigate();\n  const { id } = useParams();\n  const { data, mode: recMode, chMode } = useDetail(id);\n  const updateMode = useCallback(() => {\n    handleMode(recMode);\n  }, []);\n\n  const clickEvent = () => {\n    window.print();\n  }\n  useEffect(() => {\n    updateMode();\n  }, [updateMode]);\n\n  return (\n    <div className=\"detail\">\n      {data && \n      <>\n      <div className=\"detail-title\">\n        <div className=\"d-flex align-items-center\">\n          <button className=\"detail-btn\" onClick={() => navigate(-1)}>\n            <i className=\"fas fa-chevron-left\"></i>\n          </button>\n          <h1 className=\"detail-title\">{data[`${recMode}Name`]}</h1>\n        </div>\n        <div>\n          <button className=\"detail-btn\" onClick={clickEvent}><i className=\"fas fa-print\"></i></button>\n        </div>\n      </div>\n      <div className=\"banner\">\n        <img className=\"banner-img\" src={data.Picture.PictureUrl1} alt={data.Picture.PictureDescription1} />\n      </div>\n      <h2 className=\"detail-info-title\">\n        <i className=\"fas fa-info\"></i>\n        <span>{chMode}資訊</span>\n      </h2>\n      <div className=\"detail-info\">\n        {data.Date &&\n          <p className=\"card-text mb-1\" >\n            <i className=\"ico-calendar\"></i>\n            <span> 活動日期：</span>\n            <span>{data.Date}</span>\n          </p>\n        }\n        {!data.Date && data.StartTime && \n          <p>\n            <span> 活動期間：</span>\n            <span>{data.StartTime} ~ </span>\n            <span>{data.EndTime}</span>\n          </p>\n        }\n        {data.OpenTime && \n          <p className=\"card-text mb-1\" >\n            <i className=\"ico-calendar\"></i>\n            <span> 開放時段：</span>\n            <span>{data.OpenTime}</span>\n          </p>\n        }\n        {data.TicketInfo && \n          <p className=\"card-text mb-1\" >\n            <i className=\"ico-calendar\"></i>\n            <span> 門票費用：</span>\n            <span>{data.TicketInfo}</span>\n          </p>\n        }\n        {data.Address && \n          <p className=\"card-text mb-1\" >\n            <i className=\"ico-location-pin\"></i>\n            <span>{chMode}地點：</span>\n            {data.Location &&\n              <span>{data.Location}</span>\n            }\n            <span>{data.Address}</span>\n          </p>\n        }\n        {data.Phone && \n          <p className=\"card-text mb-1\" >\n            <i className=\"ico-ui-touch-phone\"></i>\n            <span> 聯絡電話：</span>\n          <a href={`tel:${data.Phone}`}>{data.Phone}</a>\n          </p>\n        }\n        {data.WebsiteUrl && \n          <p className=\"card-text mb-1\" >\n            <i className=\"ico-earth\"></i>\n            <span> 官方網站：</span>\n            <a href={data.WebsiteUrl} target=\"_blank\" rel=\"noreferrer\">點我前往</a>\n          </p>\n        }\n        {data.Organizer && \n          <p className=\"card-text mb-1\" >\n            <i className=\"ico-people\"></i>\n            <span> 主辦單位：</span>\n            <span>{data.Organizer}</span>\n          </p>\n        }\n        {data.Cycle && \n          <p className=\"card-text mb-1\" >\n            <i className=\"ico-ui-text-chat\"></i>\n            <span> 備註說明：</span>\n            <span>{data.Cycle}</span>\n          </p>\n        }\n\n      </div>\n      <h2 className=\"fz-md c-main\">\n        <i className=\"ico-google-talk\"></i>\n        <span>{chMode}介紹</span>\n      </h2>\n      <p className=\"detail-pre\">\n        {data.DescriptionDetail || data.Description}\n      </p>\n      {data.TravelInfo &&\n        <>\n          <h2 className=\"fz-md c-main detail-info-title\"><i className=\"fas fa-car\"></i> 交通方式</h2>\n          <p className=\"detail-pre\">{data.TravelInfo}</p>\n        </>\n      }\n      {data.ParkingInfo &&\n        <>\n          <h2 className=\"fz-md c-main detail-info-title\"><i className=\"fas fa-car\"></i> 交通方式</h2>\n          <p className=\"detail-pre\">{data.ParkingInfo}</p>\n        </>\n      }\n      <div className=\"space\"></div>\n      <div className=\"d-flex justify-content-between align-items-center\">\n        <h2 className=\"detail-info-title\">\n          <i className=\"fas fa-location-arrow\"></i>\n          <span className=\"me-1\">查看鄰近的景點</span>\n        </h2>\n        <Link\n          to={`/detail?mode=ScenicSpot&lat=${data.Position.PositionLat}&lon=${data.Position.PositionLon}`}\n          className=\"detail-more\"\n        >\n          More\n        </Link>\n      </div>\n      <Nearinfo\n          recMode={\"ScenicSpot\"}\n          lat={data.Position.PositionLat}\n          lon={data.Position.PositionLon}\n          amount={3}\n      />\n      <div className=\"d-flex justify-content-between align-items-center\">\n        <h2 className=\"detail-info-title\">\n          <i className=\"fas fa-flag\"></i>\n          <span className=\"me-1\">查看鄰近的活動</span>\n        </h2>\n        <Link\n          to={`/detail?mode=Activity&lat=${data.Position.PositionLat}&lon=${data.Position.PositionLon}`}\n          className=\"detail-more\"\n        >\n          More\n        </Link>\n      </div>\n      <Nearinfo\n          recMode={\"Activity\"}\n          lat={data.Position.PositionLat}\n          lon={data.Position.PositionLon}\n          amount={3}\n      />\n      <div className=\"d-flex justify-content-between align-items-center\">\n        <h2 className=\"detail-info-title\">\n          <i className=\"fas fa-utensils\"></i>\n          <span className=\"me-1\">查看鄰近的餐飲</span>\n        </h2>\n        <Link\n          to={`/detail?mode=Restaurant&lat=${data.Position.PositionLat}&lon=${data.Position.PositionLon}`}\n          className=\"detail-more\"\n        >\n          More\n        </Link>\n      </div>\n      <Nearinfo\n          recMode={\"Restaurant\"}\n          lat={data.Position.PositionLat}\n          lon={data.Position.PositionLon}\n          amount={3}\n      />\n      <div className=\"d-flex justify-content-between align-items-center\">\n        <h2 className=\"detail-info-title\">\n          <i className=\"fas fa-hotel\"></i>\n          <span className=\"me-1\">查看鄰近的旅宿</span>\n        </h2>\n        <Link\n          to={`/detail?mode=Hotel&lat=${data.Position.PositionLat}&lon=${data.Position.PositionLon}`}\n          className=\"detail-more\"\n        >\n          More\n        </Link>\n      </div>\n      <Nearinfo\n          recMode={\"Hotel\"}\n          lat={data.Position.PositionLat}\n          lon={data.Position.PositionLon}\n          amount={3}\n      />\n      </>\n    }\n    </div>\n    \n    \n    \n  )\n}","import { useState, useEffect } from 'react';\nimport { useAuthHeader } from './useAuthHeader';\nimport { useMode } from './useMode';\n\nexport const useDetail = (id) => {\n  const [data, setData] = useState(null);\n  const { Authorization, GMTString } = useAuthHeader();\n  const { mode } = useMode(id, true);\n  const { mode: chMode } = useMode(id, false);\n  let url = \"https://ptx.transportdata.tw/MOTC/v2/Tourism/\";\n  url += `${mode}/?$format=JSON&$filter=${mode}ID eq '${id}'`;\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const res =  await fetch(url, { headers:  { Authorization, 'X-Date': GMTString  } });\n        const data = await res.json();\n        if (data[0].StartTime === data[0].EndTime) data[0].Date = data[0].EndTime;\n        setData(data[0]);\n      } catch(err) {\n        console.log(err);\n      }\n    }\n    fetchData();\n  }, [id, Authorization, GMTString, mode, url])\n\n  return { data, mode, chMode }\n}","import styled from '@emotion/styled';\n\nconst ErrorTitle = styled.h2`\n  text-align: center;\n`;\n\nexport default function Error() {\n  return (\n    <div>\n      <ErrorTitle>\n        找不到相關資料\n      </ErrorTitle>\n    </div>\n  )\n}","import { useState, useEffect } from 'react';\nimport { useParams, Link, useSearchParams } from \"react-router-dom\";\nimport { useGetData } from './../hooks/useGetData';\nimport { sloganLib, cityLib, modeLib } from './../lib.js';\nimport Error from './Error';\n\nexport default function Searchdata() {\n  let params = useParams();\n  let [searchParams, setSearchParams] = useSearchParams();\n  let mode = searchParams.get('mode');\n  let city = searchParams.get('city');\n  let keyword = searchParams.get('keyword');\n  const [page, setPage] = useState(1);\n\n  const { data } = useGetData(mode, city, page, keyword);\n\n  // const { data:res } = useGetData(mode, city, page, keyword);\n  // const [data, setData] = useState([]);\n\n  // useEffect(() => {\n  //   if(res) {\n  //     setData(prev => {\n  //       return [...prev, ...res]\n  //     });\n  //   }\n  // }, [res, page]);\n\n  const getTitle = () => {\n    if(keyword) {\n      return keyword.split(',').join(' ');\n    } else if(city) {\n      return city.replace(/[A-Z]/g, \" $&\");\n    } else {\n      return mode;\n    }\n  }\n\n  const getUrl = () => {\n    return `./../Images/banner_${mode}.png`;\n  }\n\n  return (\n    <div className=\"search\">\n      <div className=\"banner shadow\">\n        <img className=\"banner-img\" alt=\"Travel Guide\" src={getUrl()} />\n        <h1 className=\"banner-text\">\n          {getTitle()}\n        </h1>\n      </div>\n    <div className=\"mode\">\n      <Link\n        to={`/search?mode=ScenicSpot&city=${city}&keyword=${keyword || \"\"}`}\n        className={`mode-btn bdrs-sm ${mode === 'ScenicSpot'? 'active': ''}`}\n      >\n        景點\n      </Link>\n      <Link\n        to={`/search?mode=Restaurant&city=${city}&keyword=${keyword || \"\"}`}\n        className={`mode-btn bdrs-sm ${mode === 'Restaurant'? 'active': ''}`}\n      >\n        餐飲\n      </Link>\n      <Link\n        to={`/search?mode=Hotel&city=${city}&keyword=${keyword || \"\"}`}\n        className={`mode-btn bdrs-sm ${mode === 'Hotel'? 'active': ''}`}\n      >\n        旅宿\n      </Link>\n      <Link\n        to={`/search?mode=Activity&city=${city}&keyword=${keyword || \"\"}`}\n        className={`mode-btn bdrs-sm ${mode === 'Activity'? 'active': ''}`}\n      >\n        活動\n      </Link>\n    </div>\n    {data && \n      <div className={`card-${mode}`}>\n        {data.length == 0 && <Error />}\n        {data.length > 0 && data.map((item, i) =>  (\n          <Link to={`/detail/${item[mode+'ID']}`} className=\"card bdrs-sm\" key={item[mode+'ID']}>\n            <div className=\"card-box\">\n              <img className=\"card-img\" \n                src={item.Picture.PictureUrl1}\n                alt={item.Picture.PictureDescription1 || item[`${mode}Name`]}></img>\n            </div>\n            <div className=\"card-content\">\n              <h2 className=\"card-title\">{item[mode+'Name']}</h2>\n              {item.Date &&\n                <p className=\"card-text mb-1\">\n                  <i className=\"fas fa-calendar\"></i>\n                  <span>{item.Date}</span>\n                </p>\n              }\n              {!item.Date && item.StartTime && \n                <p>\n                  <i className=\"fas fa-calendar\"></i>\n                  <span>{item.StartTime} ~ </span>\n                  <span>{item.EndTime}</span>\n                </p>\n              }\n              {item.OpenTime && \n                <p>\n                  <i className=\"fas fa-clock\"></i>\n                  <span>{item.OpenTime.split(';')[0]} ~ </span>\n                </p>\n              }\n              {item.TicketInfo && \n                <p>\n                  <i className=\"far fa-ticket\"></i>\n                  <span>{item.TicketInfo.split(';')[0]} ~ </span>\n                </p>\n              }\n              {item.Address && \n                <p>\n                  <i className=\"fas fa-location-arrow\"></i>\n                  {item.Location && \n                    <span>{item.Location}</span>\n                  }\n                  <span>{item.Address}</span>\n                </p>\n              }\n              <p className=\"card-text mb-1\">\n                <i className=\"fas fa-tag\"></i>\n                {item.Class && <span className=\"card-tag\">{item.Class}</span>}\n                {item.Class1 && <span className=\"card-tag\">{item.Class1}</span>}\n                {item.Class2 && <span className=\"card-tag\">{item.Class2}</span>}\n                {item.Class3 && <span className=\"card-tag\">{item.Class3}</span>}\n              </p>\n            </div>\n          </Link>\n          )\n        )}\n      </div>}\n    <div className=\"pagination d-flex\">\n      {page >= 2 && \n        <button className={`loadBtn fz-md bdrs-sm`} onClick={() => setPage(prev => prev - 1)}>\n          上一頁\n        </button>\n      }\n      {data && data.length == 6 &&\n        <button className={`loadBtn fz-md bdrs-sm`} onClick={() => setPage(prev => prev + 1)}>\n          下一頁\n        </button>\n      }\n    </div>\n    \n  </div>\n  )\n}","import { useState, useEffect } from 'react';\nimport { useParams, Link, useSearchParams } from \"react-router-dom\";\nimport { useNearInfo } from './../hooks/useNearInfo';\nimport { sloganLib, cityLib, modeLib } from './../lib.js';\n\nexport default function Searchnear() {\n  let params = useParams();\n  let [searchParams, setSearchParams] = useSearchParams();\n  const [page, setPage] = useState(1);\n  let mode = searchParams.get('mode');\n  let city = searchParams.get('city');\n  let keyword = searchParams.get('keyword');\n  let lat = searchParams.get('lat');\n  let lon = searchParams.get('lon');\n\n  const { data } = useNearInfo(mode, lat, lon);\n\n  // const { data:res } = useGetData(mode, city, page, keyword);\n  // const [data, setData] = useState([]);\n\n  // useEffect(() => {\n  //   if(res) {\n  //     setData(prev => {\n  //       return [...prev, ...res]\n  //     });\n  //   }\n  // }, [res, page]);\n\n  const getTitle = () => {\n    if(keyword) {\n      return keyword.split(',').join(' ');\n    } else if(city) {\n      return city.replace(/[A-Z]/g, \" $&\");\n    } else {\n      return mode;\n    }\n  }\n\n  const getUrl = () => {\n    return `./../Images/banner_${mode}.png`;\n  }\n\n  return (\n    <div className=\"search\">\n      <div className=\"banner shadow\">\n        <img className=\"banner-img\" alt=\"Travel Guide\" src={getUrl()} />\n        <h1 className=\"banner-text\">\n          {getTitle()}\n        </h1>\n      </div>\n    <div className=\"mode\">\n      <Link\n        to={`/search?mode=ScenicSpot&city=${city}&keyword=${keyword || \"\"}`}\n        className={`mode-btn bdrs-sm ${mode === 'ScenicSpot'? 'active': ''}`}\n      >\n        景點\n      </Link>\n      <Link\n        to={`/search?mode=Restaurant&city=${city}&keyword=${keyword || \"\"}`}\n        className={`mode-btn bdrs-sm ${mode === 'Restaurant'? 'active': ''}`}\n      >\n        餐飲\n      </Link>\n      <Link\n        to={`/search?mode=Hotel&city=${city}&keyword=${keyword || \"\"}`}\n        className={`mode-btn bdrs-sm ${mode === 'Hotel'? 'active': ''}`}\n      >\n        旅宿\n      </Link>\n      <Link\n        to={`/search?mode=Activity&city=${city}&keyword=${keyword || \"\"}`}\n        className={`mode-btn bdrs-sm ${mode === 'Activity'? 'active': ''}`}\n      >\n        活動\n      </Link>\n    </div>\n    <div className={`card-${mode}`}>\n      {data && data.map((item, i) =>  (\n        <Link to={`/detail/${mode+'ID'}`} className=\"card bdrs-sm\" key={item[`${mode}ID`]}>\n          <div className=\"card-box\">\n          <img className=\"card-img\" \n            src={item.Picture.PictureUrl1}\n            alt={item.Picture.PictureDescription1 || item[`${mode}Name`]}></img>\n          </div>\n          <div className=\"card-content\">\n            <h2 className=\"card-title\">{item[mode+'Name']}</h2>\n            {item.Date &&\n              <p className=\"card-text mb-1\">\n                <i className=\"fas fa-calendar\"></i>\n                <span>{item.Date}</span>\n              </p>\n            }\n            {!item.Date && item.StartTime && \n              <p>\n                <i className=\"fas fa-calendar\"></i>\n                <span>{item.StartTime} ~ </span>\n                <span>{item.EndTime}</span>\n              </p>\n            }\n            {item.OpenTime && \n              <p>\n                <i className=\"fas fa-clock\"></i>\n                <span>{item.OpenTime.split(';')[0]} ~ </span>\n              </p>\n            }\n            {item.TicketInfo && \n              <p>\n                <i className=\"far fa-ticket\"></i>\n                <span>{item.TicketInfo.split(';')[0]} ~ </span>\n              </p>\n            }\n            {item.Address && \n              <p>\n                <i className=\"fas fa-location-arrow\"></i>\n                {item.Location && \n                  <span>{item.Location}</span>\n                }\n                <span>{item.Address}</span>\n              </p>\n            }\n            <p className=\"card-text mb-1\">\n              <i className=\"fas fa-tag\"></i>\n              {item.Class && <span className=\"card-tag\">{item.Class}</span>}\n              {item.Class1 && <span className=\"card-tag\">{item.Class1}</span>}\n              {item.Class2 && <span className=\"card-tag\">{item.Class2}</span>}\n              {item.Class3 && <span className=\"card-tag\">{item.Class3}</span>}\n            </p>\n          </div>\n        </Link>\n          \n        )\n      )}\n    </div>\n    <div className=\"pagination d-flex\">\n      {page >= 2 && \n        <button className={`loadBtn fz-md bdrs-sm`} onClick={() => setPage(prev => prev - 1)}>\n          上一頁\n        </button>\n      }\n      {data && data.length == 6 &&\n        <button className={`loadBtn fz-md bdrs-sm`} onClick={() => setPage(prev => prev + 1)}>\n          下一頁\n        </button>\n      }\n    </div>\n    \n  </div>\n  )\n}","import './Search.scss';\nimport { useState, useEffect } from 'react';\nimport { useParams, Link, useSearchParams } from \"react-router-dom\";\nimport Searchdata from './../../Components/Searchdata';\nimport Searchnear from './../../Components/Searchnear';\nimport { sloganLib, cityLib, modeLib } from './../../lib.js';\n\nexport default function Search() {\n  let params = useParams();\n  let [searchParams, setSearchParams] = useSearchParams();\n  let mode = searchParams.get('mode');\n  let city = searchParams.get('city');\n  let keyword = searchParams.get('keyword');\n  let lat = searchParams.get('lat');\n  let lon = searchParams.get('lon');\n\n  if(city !== '') {\n    return <Searchdata></Searchdata>\n  } else {\n    return <Searchnear></Searchnear>\n  }\n  \n}","import React, { useEffect, useState, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchData } from './Model/action';\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport styled from '@emotion/styled';\nimport { createBrowserHistory } from 'history';\nimport Header from './Components/Header';\nimport Recommend from './Components/Recommend';\nimport Home from './Pages/Home/Home';\nimport Detail from './Pages/Detail/Detail';\nimport Search from './Pages/Search/Search';\n\nimport './App.css';\nimport './css/variables.scss';\nimport './css/common.scss';\n\n\nconst Container = styled.div`\n  display: flex;\n  width: 100%;\n  margin: auto;\n  box-sizing: border-box;\n  align-items: flex-start;\n  @media screen and (max-width: 1024px) {\n    flex-wrap: wrap;\n  }\n`;\n\nconst Head = styled.header`\n  position: sticky;\n  top: 0;\n  left: 0;\n  width: 350px;\n  height: 100vh;\n  padding: 1.5rem;\n  background-color: white;\n  overflow: scroll;\n  box-sizing: border-box;\n  @media screen and (max-width: 1024px) {\n    position: fixed;\n    z-index: 10;\n    transform: translateX(-150%);\n    transition: transform .5s;\n  }\n  @media screen and (max-width: 767px) {\n    width: 100vw;\n  }\n  &.show {\n    @media screen and (max-width: 1024px) {\n      transform: translateX(0%);\n    }\n  }\n`\n\n\nfunction App() {\n  const [city, setCity] = useState('Taiwan');\n  const [mode, setMode] = useState('ScenicSpot');\n  const elementTop = useRef();\n  const testData = useSelector(state => state.testData);\n  const data = useSelector(state => state.data);\n  const dispatch = useDispatch();\n  const history = createBrowserHistory({ basename: '/traveler_react'});\n\n  const handleSelectCity = (val) => {\n    setCity(val);\n  };\n  const handleMode = (val) => {\n    setMode(val);\n  }\n\n  const scrollTop = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: \"smooth\"\n    });\n  }\n\n  useEffect(() => {\n    const root = (val) => {\n      document.documentElement.style.setProperty(\"--c-main\", val);\n    }\n    if (mode === \"ScenicSpot\") root(\"#3fb195\");\n    if (mode === \"Restaurant\") root(\"#ff9999\");\n    if (mode === \"Hotel\") root(\"#A79BFD\");\n    if (mode === \"Activity\") root(\"#feb155\");\n\n  }, [mode])\n  \n  useEffect(() => {\n    dispatch(fetchData());\n  }, []);\n\n  useEffect(() => {\n    if(data) {\n      console.log(data);\n    }\n  }, [data]);\n\n  return (\n    <div className=\"App\">\n      <BrowserRouter basename={'/traveler_react'}>\n        <Container>\n          <Head>\n            <Header handleSelectCity={handleSelectCity} city={city}></Header>\n          </Head>\n          <div className=\"box\">\n            <div className=\"goTop df-center fz-xl bdrs-xl shadow\" onClick={scrollTop} ref={elementTop}>\n              <i className=\"fas fa-chevron-up\"></i>\n            </div>\n            <nav className=\"nav shadow\">\n              <button className=\"nav-btn show\">\n                <i className=\"ico-settings\"></i>\n              </button>\n              <button className=\"nav-btn\"><i className=\"fas fa-bars\"></i></button>\n            </nav>\n            <Routes>\n              <Route path=\"/\" element={<Home />}></Route>\n              <Route path=\"/detail/:id\" element={<Detail handleMode={handleMode} mode={mode} />}>\n              </Route>\n              <Route path=\"/search\"  element={<Search handleMode={handleMode} mode={mode}/>}>\n              </Route>\n            </Routes>\n            <footer className=\"foot df-around\">\n              <p><i className=\"icoTW-main-island\"></i>TAIWAN TRAVEL</p>\n              <p>Source：交通部PTX服務平臺</p>\n            </footer>\n          </div>\n        </Container>\n      </BrowserRouter>\n      \n    </div>\n  );\n}\n\nexport default App;\n","import axios from 'axios';\n\nexport const fetchData = () => {\n  return async (dispatch, getState) => {\n    dispatch({ type: 'PENDING', payload: true });\n    try {\n      const res = await axios.get('https://raw.githubusercontent.com/hexschool/KCGTravel/master/datastore_search.json');\n      \n      dispatch({ type: 'FETCH_TESTDATA', payload: res.data});\n      dispatch({ type: 'PENDING', payload: false });\n      dispatch({ type: 'ERROR', payload: null });\n\n    } catch(err) {\n      dispatch({ type: 'PENDING', payload: false });\n      dispatch({ type: 'ERROR', payload: 'Could not fetch the data' });\n    }\n    \n  }\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport thunk from 'redux-thunk';\nimport { FALSE } from 'sass';\n\nconst url = 'https://course-api.com/react-useReducer-cart-project';\n\nconst initialState = {\n  items: [],\n  travelData: [],\n  amount: 4,\n  total: 0,\n  isLoading: false,\n}\n\nexport const getCartItems = createAsyncThunk(\n  'cart/getCartItems',\n  async (name, thunkAPI) => {\n    try {\n      const res = await axios.get(url);\n\n      return res.data;\n    } catch (err) {\n      return thunkAPI.rejectWithValue('Sth went wrong.');\n    }\n  }\n);\n\n export const dataSlice = createSlice({\n   name: 'data',\n   initialState,\n   reducers: {\n    clearCart: (state) => {\n      state.items = [];\n    },\n    removeItem: (state, action) => {\n      const itemId = action.payload;\n      state.items = state.items.filter(item => item.id !== itemId);\n\n    },\n    increase: (state, { payload }) => {\n      const cartItem = state.items.find(item => item.id == payload.id);\n      cartItem.amount = cartItem.amount + 1;\n    },\n    decrease: (state, { payload }) => {\n      const cartItem = state.items.find(item => item.id == payload.id);\n      cartItem.amount = cartItem.amount - 1;\n    },\n    calculateTotals: (state) => {\n      let amount = 0;\n      let total = 0;\n      state.items.forEach((item) => {\n        amount += item.amount;\n        total += item.amount * item.price;\n      });\n      state.amount = amount;\n      state.total = total;\n    },\n   },\n   extraReducers: {\n    [getCartItems.pending]: (state) => {\n      state.isLoading = true;\n    },\n    [getCartItems.fulfilled]: (state, action) => {\n      state.isLoading = false;\n      state.items = action.payload;\n    },\n    [getCartItems.rejected]: (state, action) => {\n      state.isLoading = false;\n    }\n   }\n })\n\nexport const { clearCart, removeItem, increase, decrease, calculateTotals } = dataSlice.actions;\n\nexport default dataSlice.reducer;","import { configureStore } from '@reduxjs/toolkit';\nimport dataReducer from './dataSlice';\nimport { createStore, applyMiddleware, combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\n\nconst store = configureStore({\n  reducer: {\n    data: dataReducer,\n  }\n})\n\n// 若有多個 reducer 要包起來，可以使用combineReducers()\n\nexport { store };\n\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport { store } from './Model/store';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}